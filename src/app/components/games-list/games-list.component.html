<div class="container main-list bg-secondary h-100">
  <div class="row p-3">
    <div class="col d-flex align-items-center">
      <div class="float-left">
        <button type="button" class="btn btn-secondary btn-sm bg-grey">+ Add genre</button>
      </div>
    </div>
    <div class="col d-flex align-items-center justify-content-end">
      <div class="float-right">
        <div class="search-input bg-grey">
          <img src="/assets/search.svg" height="18" width="18" />
          <input type="text" class="text-white" />
        </div>
      </div>
    </div>
  </div>

  <div class="container bg-secondary">
    <div class="row">
      <ng-container *ngFor="let game of games | async; index as i">
        <ng-container
          *ngTemplateOutlet="i % 4 === 0 ? wideDice : normalDice; context: { $implicit: game }"
        >
        </ng-container>
      </ng-container>
    </div>
  </div>
</div>

<ng-template #wideDice let-game>
  <div class="col my-2 col-sm-6">
    <div
      class="d-flex align-items-end dice dice-wide"
      [ngStyle]="{ 'background-image': 'url(\'' + game.pictureWideUri + '\')' }"
    >
      <div class="col h-25 well">
        <h5 class="card-title p-2 h-50">${{ game.price }}</h5>
        <p class="card-text p-2 h-25">{{ game.name }}</p>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #normalDice let-game>
  <div class="col my-2 col-sm-3">
    <div
      class="d-flex align-items-end dice dice-narrow"
      [ngStyle]="{ 'background-image': 'url(\'' + game.pictureUri + '\')' }"
    >
      <div class="col h-25 well">
        <h5 class="card-title p-2 h-50">${{ game.price }}</h5>
        <p class="card-text p-2 h-25">{{ game.name }}</p>
      </div>
    </div>
  </div>
</ng-template>
